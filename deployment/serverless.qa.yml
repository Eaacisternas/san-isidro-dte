service: cw-cl-template-node-qa

plugins:
  - serverless-offline

provider:
  name: aws
  stage: qa
  runtime: nodejs16.x
  apiGateway:
    restApiId: w5h9f864a1 # REST API resource ID. Default is generated by the framework
    restApiRootResourceId: ux5cuvogf0 # Root resource, represent as / path

functions:
  main:
    name: cw-cl-template-node-qa
    handler: app/src/lambda.handler
    vpc:
      securityGroupIds:
        - sg-0c4e4e55916e5347b
      subnetIds:
        - subnet-0ea26ff639698c90e
        - subnet-035a0a3883c91ef32
    events:
      - http:
          method: ANY
          path: /cw-cl-template-node
      - http:
          method: ANY
          path: '/cw-cl-template-node/{proxy+}'

custom:
  logRetentionInDays: 30
  optimize:
    external: ['swagger-ui-dist']
  serverless-offline:
    httpPort: 4000
    websocketPort: 4001
    lambdaPort: 4002
